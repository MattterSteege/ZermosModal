<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="Zermos-modal.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

</body>

<script>
    const ideaSubmissionSubModal = new ZermosSubModal()
    .addHeading("Vertel eens, wat is jouw idee?", "", 2)
    .addTextArea(true)

    const bugSubmissionSubModal = new ZermosSubModal()
        .addHeading("Vertel eens, wat is het probleem?", "", 2)
        .addTextArea(true)

    const modal = new ZermosModal();

    modal.addHeading("Bug of idee?")
    .addText("Heb je een bug gevonden in Zermos of heb je een baanbrekend idee, vul de korte vragenlijst hieronder!")
    .addDropdown([
        { label: "Ik wil een bug rapporteren", value: "bug" },
        { label: "Ik heb een idee voor Zermos", value: "idee" }
    ], true, false, (ctx, value) => {modal.setCondition("type", value); console.log(ctx, value)})
    .addSubmenu("type == \"idee\"", ideaSubmissionSubModal)
    .addSubmenu("type == \"bug\"", bugSubmissionSubModal)
    .addText("kan ik je via je mail ([email]) bereiken op als ik extra vragen heb of ontwikkelingen?")
    .addToggle("Ja hou me op de hoogte!")
    .addButton("versturen", (ctx) => {
            var values = ctx.getComponentsValue();
            if (!((values.values[0].correct && values.values[1].correct) || (values.values[0].correct && values.values[2].correct))){
                alert("form is not correct, fill in the form correctly!")
                return;
            }

            console.log(values);
    })

    modal.open();

    //TODO: implement the form still being correct when a not-showing submodal's answers are not correct
    //TODO: add a better label system (mostly for text elements)
</script>
</html>